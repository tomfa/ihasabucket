{"version":3,"file":"static/webpack/static/development/pages/index.js.9810dbdd49a9ef06b0c0.hot-update.js","sources":["webpack:///./utils/terraform/iamUser.ts"],"sourcesContent":["import { QuestionSummary, ModuleSpec } from './types';\nimport { getBucketTfValues, getIAMBucketUserNameTfValue } from './names';\n\nexport const getIAMUserTfContent = (props: QuestionSummary): ModuleSpec[] => {\n  const parameters = getParams(props);\n  return [\n    {\n      name: 'user',\n      source: `git::https://github.com/tomfa/terraform.git//user`,\n      parameters,\n    },\n  ];\n};\n\nconst getParams = (props: QuestionSummary) => {\n  const allBucketNamesTf = getBucketTfValues(props);\n  const userNameTf = getIAMBucketUserNameTfValue(props.bucketName);\n  const bucketNamesTf = Object.values(allBucketNamesTf).filter(\n    (name) => !!name\n  );\n  const params: Record<string, string> = {\n    bucket_names: `[${bucketNamesTf.join(', ')}]`,\n    iam_user_name: userNameTf,\n  };\n  if (props.webApp) {\n    params.cloudfront_distribution_ids = `[module.web-app.CLOUDFRONT_DISTRIBUTION_ID]`;\n  }\n  return params;\n};\n"],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;;;;A","sourceRoot":""}